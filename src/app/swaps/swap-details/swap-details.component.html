<div class="row">
    <div *ngIf="(swap$ | async) as swap" class="col-lg-8">

        <app-login-or-register *ngIf="!(loggedInUser$ | async)"></app-login-or-register>

        <div>
            <div class="card mb-4">
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-3">
                            <p class="mb-0"><b>Swap Title</b></p>
                        </div>
                        <div class="col-sm-9">
                            <p class="text-content mb-0">{{swap.swapTitle}}</p>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-sm-3">
                            <p class="mb-0"><b>Trade requested</b></p>
                        </div>
                        <div class="col-sm-9">
                            <span class="badge bg-info">{{swap.trade}}</span>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-sm-3">
                            <p class="mb-0"><b>Swap expiry</b></p>
                        </div>
                        <div class="col-sm-9">
                            <p class="text-content mb-0">{{swap.openUntil}}</p>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-sm-3">
                            <p class="mb-0"><b>Swap Notes</b></p>
                        </div>
                        <div class="col-sm-9">
                            <p class="text-content mb-0">{{swap.additionalNotes}}</p>
                        </div>
                    </div>
                </div>
            </div>

            <hr>

            <ng-container *ngIf="(loggedInUser$ | async) as loggedInUser">

                <app-swap-trades *ngIf="swap._ownerId === loggedInUser._id && swap.tradeOffers.length"
                    [tradeOffers]="swap.tradeOffers">
                </app-swap-trades>
                <div *ngIf="isTradeOwner" class="tradeOffer rounded"><app-trade-offer [swapId]="swap._id" [loggedInUser]="loggedInUser" [tradeOffers]="swap.tradeOffers">
                </app-trade-offer></div>
                

                <app-offer-trade *ngIf="!isTradeOwner && swap._ownerId !== loggedInUser._id"
                    [offerUserId]="loggedInUser._id" [swap]="swap"></app-offer-trade>


            </ng-container>


        </div>
    </div>

    <div *ngIf="(swap$ | async) as swap" class="col-lg-4 rounded">
        <app-swap-owner [swap]="swap" class="col-md-4"></app-swap-owner>
    </div>

</div>















<!--  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->




<!-- OWNER/NOT OWNER | ADD TRADE OFFER | LEFT SIDE + ACCEPTED AND PENDING PAGE -->
<!--
        <div class="col-md-6">
           
                
            </div>

           
            <div ">
                <b>Make a trade offer Offer</b>
                <hr>
                
            </div>

        </div>











 <div class="mx-auto col-md-6 text-center">
    <button type="submit" class="btn btn-sm btn-danger text-center">Accept Offer</button>
    <button type="submit" class="btn btn-sm btn-secondary">Decline Offer</button>
</div> 
    










    </div>
</div>





<div class="row">
    <div class="col-lg-4">

    </div>



    <div class="col-lg-8">




        <ng-container *ngIf="false">
            <div *ngFor="let swapOffer of currentSwapOffers" class="col-md-12 col-lg-12 order-md-last">
                <h4 class="d-flex justify-content-between align-items-center mb-3">
                    <span class="text-primary">My Trade Offer</span>
                    <div>
                        <h6 *ngIf="swapOffer.status.pending"><span class="badge bg-primary">Pending</span>
                        </h6>
                        <h6 *ngIf="swapOffer.status.accepted"><span class="badge bg-success">Accepted</span>
                        </h6>
                    </div>
                </h4>
                <div *ngIf="" class="mx-auto col-md-6 text-center">
                    <button type="submit" class="btn btn-sm btn-danger text-center">Accept Offer</button>
                    <button type="submit" class="btn btn-sm btn-secondary">Decline Offer</button>
                </div>

                <ul class="list-group mb-3">
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Trade Start Date</h6>
                            <small class="text-muted">{{swapOffer.swapStartDate}}</small>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Trade End Date</h6>
                            <small class="text-muted">{{swapOffer.swapEndDate}}</small>
                        </div>
                    </li>

                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Provided Trade/Trades</h6>
                            <h6 *ngFor="let trade of swapOffer.tradesRequested"><span
                                    class="badge bg-info">{{trade}}</span>
                            </h6>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Additional Trade Notes</h6>
                            <small class="text-muted">Additional information offered trade.</small>
                            <hr>
                            <span class="text-muted">{{swapOffer.notes}}</span>
                        </div>
                    </li>
                    <li class="list-group-item">
                        <form class="text-center card p-2">
                            <div *ngIf="swapOffer.length > 0" class="card mb-4 mb-lg-0">
                                <img *ngFor="let image of swapImages" src="{{image}}"
                                    class="img-thumbnail rounded mx-auto">
                            </div>
                        </form>
                    </li>
                </ul>
            </div>

        </ng-container>




        <ng-container *ngIf="(showNotOwnerPendingOrAccepted || showOwnerAcceptedWithAdd)">
            
        </ng-container>


        <ng-container>
       
        </ng-container>







        <ng-container
            *ngIf="(showOwnerHome && currentUser || showNotOwnerAdd && showOwnerAcceptedWithAdd) && currentSwapOffer">
            <div *ngFor="let offer of currentSwapOffers" class="col-md-6 col-lg-6 order-md-last">
                <h4 class="d-flex justify-content-between align-items-center mb-3">
                    <span class="text-primary">My Swap Offer</span>
                    <div>
                        <h6 *ngIf="offer.status.pending"><span class="badge bg-primary">Pending</span>
                        </h6>
                        <h6 *ngIf="offer.status.accepted"><span class="badge bg-success">Accepted</span>
                        </h6>
                        <h6 *ngIf="offer.status.declined"><span class="badge bg-danger">Declined</span>
                        </h6>
                    </div>
                </h4>
                <div *ngIf="showOwnerHome" class="mx-auto col-md-6 text-center">
                    <button type="submit" class="btn btn-sm btn-danger text-center" (click)="onAcceptOffer()">Accept
                        Offer</button>
                    <button type="submit" class="btn btn-sm btn-secondary">Decline Offer</button>

                </div>
                <ul class="list-group mb-3">
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Swap Start Date</h6>
                            <small class="text-muted">{{offer.swapStartDate}}</small>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Swap End Date</h6>
                            <small class="text-muted">{{offer.swapEndDate}}</small>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">My Trade Address</h6>
                            <small class="text-muted">{{offer.address}}</small>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">My Trade Requested</h6>
                            <small *ngFor="let trade of offer.tradesRequested" class="text-muted">
                                {{trade}}</small>
                        </div>

                    </li>
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Additional Trade Notes</h6>
                            <small class="text-muted">Additional information about requiested trade.</small>
                            <hr>
                            <span class="text-muted">{{offer.notes}}</span>
                        </div>
                    </li>

                    <div *ngIf="" class="mx-auto col-md-6 text-center">
                        <button type="submit" class="btn btn-sm btn-secondary text-center">Edit Current
                            Offer</button>
                        <button type="submit" class="btn btn-sm btn-danger text-center">Delete Offer</button>
                    </div>
                    <li class="list-group-item">
                        <form class="text-center card p-2">
                            <div *ngIf="currentSwapOffers[offer.user].swapImages" class="card mb-4 mb-lg-0">
                                <img *ngFor="let img of currentSwapOffers[offer.user].swapImages" src="{{img}}"
                                    class="img-thumbnail rounded mx-auto">
                            </div>
                        </form>
                    </li>
                </ul>
            </div>
        </ng-container>







<div *ngIf="false" class="col-lg-12">
    <div *ngfor="let offer of mySwapOffer.swapOffers" class="col-md-12 col-lg-12 order-md-last">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-primary">My Trade Offer</span>
            <div>
                <h6 *ngIf="offer.status.pending"><span class="badge bg-primary">Pending</span>
                </h6>
                <h6 *ngIf="offer.status.accepted"><span class="badge bg-success">Accepted</span>
                </h6>
                <h6 *ngIf="offer.status.declined"><span class="badge bg-danger">Declined</span>
                </h6>
            </div>
        </h4>


        <ng-container *ngIf="swap">
            <div>
                <div *ngIf="currentUser && swap.swapOffers.length < 1" class="col-lg-12">
                    <h3 class="text-center">There are no offers made yet, please check again later.</h3>

                </div>
            </div>
        </ng-container>

    </div>
</div>


<!-- OWNER | SWAP ACCEPTED PAGE -->


<!-- <div  class="col-md-6 col-lg-6 order-md-last">
                <h4 class="d-flex justify-content-between align-items-center mb-3">
                    <span class="text-primary">Swap offer for: {{mySwapOffer.swapTitle}}</span>
                    <div>
                        <h6 *ngIf="swapOffer.status.pending"><span class="badge bg-primary">Pending</span>
                        </h6>
                        <h6 *ngIf="swapOffer.status.accepted"><span class="badge bg-success">Accepted</span>
                        </h6>
                    </div>
                </h4>
                <div *ngIf="" class="mx-auto col-md-6 text-center">
                    <button type="submit" class="btn btn-sm btn-danger text-center">Accept Offer</button>
                    <button type="submit" class="btn btn-sm btn-secondary">Decline Offer</button>
                </div>

                <ul class="list-group mb-3">
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Trade Start Date</h6>
                            <small class="text-muted">{{swapOffer.swapStartDate}}</small>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Trade End Date</h6>
                            <small class="text-muted">{{swapOffer.swapEndDate}}</small>
                        </div>
                    </li>

                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Provided Trade/Trades</h6>
                            <h6 *ngFor="let trade of swapOffer.tradesRequested"><span
                                    class="badge bg-info">{{trade}}</span>
                            </h6>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Additional Trade Notes</h6>
                            <small class="text-muted">Additional information offered trade.</small>
                            <hr>
                            <span class="text-muted">{{swapOffer.notes}}</span>
                        </div>
                    </li>
                    <li class="list-group-item">
                        <form class="text-center card p-2">
                            <div *ngIf="swapOffer.length > 0" class="card mb-4 mb-lg-0">
                                <img *ngFor="let image of swapImages" src="{{image}}"
                                    class="img-thumbnail rounded mx-auto">
                            </div>
                        </form>
                    </li>
                </ul>
            </div> -->



<!-- 
            <ng-container *ngIf="(showOwnerAcceptedWithPending || showNotOwnerPendingOrAccepted) && mySwapOffer">
                <div *ngFor="let tradeOffer of mySwapOffer.tradeOffers" class="col-md-6 col-lg-6 order-md-last">
                    <h4 class="d-flex justify-content-between align-items-center mb-3">
                        <span class="text-primary">My Trade Offer</span>
                        <div>
                            <h6 *ngIf="tradeOffer.status.pending"><span class="badge bg-primary">Pending</span>
                            </h6>
                            <h6 *ngIf="tradeOffer.status.accepted"><span class="badge bg-success">Accepted</span>
                            </h6>
                        </div>
                    </h4>
                    <div *ngIf="" class="mx-auto col-md-6 text-center">
                        <button type="submit" class="btn btn-sm btn-danger text-center">Accept Offer</button>
                        <button type="submit" class="btn btn-sm btn-secondary">Decline Offer</button>
                    </div> -->

<!-- <ul class="list-group mb-3">
                        <li class="list-group-item d-flex justify-content-between lh-sm">
                            <div>
                                <h6 class="my-0">Trade Start Date</h6>
                                <small class="text-muted">{{tradeOffer.swapStartDate}}</small>
                            </div>
                        </li>
                        <li class="list-group-item d-flex justify-content-between lh-sm">
                            <div>
                                <h6 class="my-0">Trade End Date</h6>
                                <small class="text-muted">{{tradeOffer.swapEndDate}}</small>
                            </div>
                        </li>
    
                        <li class="list-group-item d-flex justify-content-between lh-sm">
                            <div>
                                <h6 class="my-0">Provided Trade/Trades</h6>
                                <h6 *ngFor="let trade of tradeOffer.tradesRequested"><span
                                        class="badge bg-info">{{trade}}</span>
                                </h6>
                            </div>
                        </li>
                        <li class="list-group-item d-flex justify-content-between lh-sm">
                            <div>
                                <h6 class="my-0">Additional Trade Notes</h6>
                                <small class="text-muted">Additional information offered trade.</small>
                                <hr>
                                <span class="text-muted">{{tradeOffer.notes}}</span>
                            </div>
                        </li>
                        <li class="list-group-item">
                            <form class="text-center card p-2">
                                <div *ngIf="tradeOffer.length > 0" class="card mb-4 mb-lg-0">
                                    <img *ngFor="let image of swapImages" src="{{image}}"
                                        class="img-thumbnail rounded mx-auto">
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </ng-container> 
        
        
                <ng-container class="col-md-5">
            <div *ngFor="let offer of currentSwapOffers">
                <h4 class="justify-content-between align-items-center mb-3">
                    <span class="text-primary">Received Swap Offer</span>
                    <div>
                        <h6 *ngIf="offer.status.pending"><span class="badge bg-primary">Pending</span>
                        </h6>
                        <h6 *ngIf="offer.status.accepted"><span class="badge bg-success">Accepted</span>
                        </h6>
                    </div>
                </h4>
                <div *ngIf="!showOwnerAcceptedWithAdd" class="mx-auto col-md-6 text-center">
                    <button type="submit" class="btn btn-sm btn-danger text-center">Accept Offer</button>
                    <button type="submit" class="btn btn-sm btn-secondary">Decline Offer</button>
                </div>

                <ul class="list-group mb-3">
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Trade Start Date</h6>
                            <small class="text-muted">{{offer.swapStartDate}}</small>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Trade End Date</h6>
                            <small class="text-muted">{{offer.swapEndDate}}</small>
                        </div>
                    </li>

                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Requested Trade/Trades</h6>
                            <h6 *ngFor="let trade of offer.tradesRequested"><span class="badge bg-info">{{trade}}</span>
                            </h6>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0">Additional Requested Trade Notes</h6>
                            <hr>
                            <span class="text-muted">{{offer.notes}}</span>
                        </div>
                    </li>
                    <li class="list-group-item">
                        <form class="text-center card p-2">
                            <div *ngIf="currentSwapOffer" class="card mb-4 mb-lg-0">
                                <img *ngFor="let image of currentSwapOffer.swapOfferImages" src="{{image}}"
                                    class="img-thumbnail rounded mx-auto">
                            </div>
                        </form>
                    </li>
                </ul>
            </div>
        </ng-container>


        <ng-container *ngIf="currentUser" class="col-md-5">
       
        </ng-container>
        
        
        
        
        -->